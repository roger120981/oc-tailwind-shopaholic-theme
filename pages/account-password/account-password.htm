title = "Account Credentials"
url = "/account/password"
layout = "main"
is_hidden = 0
==
<?php
function onInit()
{
    $this['path_page_js'] = mix('assets/dist/js/account-password.js', 'themes/lovata-tailwind-shopaholic');

    $arBreadcrumbs = [
        ['name' => \RainLab\Translate\Models\Message::trans('breadcrumbs_page_account'), 'url' => \Cms\Classes\Page::url('account/account')],
        ['name' => \RainLab\Translate\Models\Message::trans('breadcrumbs_page_password'), 'url' => null],
    ];

    $this['arBreadcrumbs'] = $arBreadcrumbs;

    if ($this->theme->has_buddies) {
        $this->addComponent('Lovata\Buddies\Components\UserPage', 'UserPage', [
            'slug' => '{{ :slug }}',
            'slug_required' => 0,
            'mode' => 'ajax',
            'flash_on' => 0,
            'redirect_on' => 0,
            'redirect_page' => 'error-404',
            'login_page' => 'error-404',
        ]);
        $this->addComponent('Lovata\Buddies\Components\ChangePassword', 'ChangePassword', [
            'slug' => '{{ :slug }}',
            'slug_required' => 0,
            'mode' => 'ajax',
            'check_old_password' => 1,
        ]);
    } else {
        return $this->controller->run('404');
    }
}
?>
==
{##}

{% set arBreadcrumbs = [
    {'name': 'breadcrumbs_page_account'|_, 'url': 'account'|page },
    {'name': 'breadcrumbs_page_password_change'|_, 'url': 'account-password-change'|page}
] %}
{% partial 'breadcrumbs/breadcrumbs' arBreadcrumbs = arBreadcrumbs %}
<div class="sm:max-w-xs mt-7 mb-44 md:mb-14">
    <h1 class="font-medium uppercase text-xl md:text-3xl mb-4">{{ 'page_heading_password_change'|_ }}</h1>
    <form class="_required">
        {% partial 'input/input'
            sId = 'form-password-current'
            sLabelText = 'input_password_current'|_
            sName = 'old_password'
            sType = "password"
            sRequired = 'required'
        %}
        {% partial 'input/input'
            sId = 'form-password-new'
            sLabelText = 'input_password_new'|_
            sName = 'password'
            sType = "password"
            sPartialClasses = 'mt-8'
            sRequired = 'required'
        %}
        {% partial 'input/input'
            sId = 'form-password-new-confirm'
            sLabelText = 'input_password_new_confirm'|_
            sName = 'password_confirmation'
            sType = "password"
            sPartialClasses = 'mt-4'
            sRequired = 'required'
        %}
        {% partial 'button/button'
            sText = 'button_password_change'|_
            sType = 'submit'
            sPartialClasses = '_button-account-change-password w-full mt-8 md:mt-6'
        %}
    </form>
</div>
