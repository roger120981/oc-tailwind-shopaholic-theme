title = "Account"
url = "/account"
layout = "main"
is_hidden = 0

==
<?php
function onInit()
{
    $this['path_page_js'] = mix('assets/dist/js/account.js', 'themes/lovata-tailwind-shopaholic');

    $arBreadcrumbs = [
        ['name' => \RainLab\Translate\Models\Message::trans('account_my_account'), 'url' => null],
    ];

    $this['arBreadcrumbs'] = $arBreadcrumbs;

    if ($this->theme->has_buddies) {
        $this->addComponent('Lovata\Buddies\Components\UserPage', 'UserPage', [
            'slug' => '{{ :slug }}',
            'slug_required' => 0,
            'mode' => 'ajax',
            'flash_on' => 0,
            'redirect_on' => 0,
            'redirect_page' => 'account/account',
            'login_page' => 'sign-in/sign-in',
        ]);
    } else {
        return $this->controller->run('404');
    }
}
?>
==
{##}

{% set arList = [
    {
        title: 'account_order_history'|_,
        url: "account-orders/account-orders",
        icon:  '/themes/lovata-tailwind-shopaholic/assets/images/icon-orders.svg'
    },
    {
        title: 'account_personal_data'|_,
        url: 'account-details/account-details',
        icon:  '/themes/lovata-tailwind-shopaholic/assets/images/icon-details.svg'
    },
    {
        title: 'account_password_change'|_,
        url: "account-password/account-password",
        icon:  '/themes/lovata-tailwind-shopaholic/assets/images/icon-password.svg'
    }
]%}

{% partial 'breadcrumbs/breadcrumbs' %}

<div class="flex flex-col mb-10">
    <h1 class="font-medium uppercase text-xl md:text-3xl mb-4">{{'account_my_account'|_}}</h1>
    {% partial 'advanced-list/advanced-list'
        body
    %}
        {% for obItem in arList %}
            {% partial 'advanced-list/advanced-list-item'
                sName = obItem.title
                sUrl = obItem.url|page
                sImagePath = obItem.icon
                sPartialClasses = obItem.viewBag.cssClass
            %}
        {% endfor %}
        <li>
            <a class="w-full overflow-hidden rounded-sm flex flex-row md:flex-col text-sm xl:text-base text-blue-800 font-medium h-full group cursor-pointer border border-l-0 hover:underline md:border-l md:border-t-0 border-solid border-gray-200 rounded-ss-sm md:rounded-es-sm rounded-se-sm md:rounded-t-none md:text-center group-active:underline"
               type="button"
                href="{{ 'log-out/log-out'|page }}">
                <span class="w-12 relative md:w-full h-12 md:h-auto bg-gray-200 group-hover:bg-blue-800 group-focus:bg-blue-900 md:aspect-w-1 md:aspect-h-1">
                    <span class="advanced-list-icon h-6 w-6 bg-6 md:bg-auto after:bg-blue-800 after:group-hover:bg-white scale-50" style="--advanced-list-icon-src: url('/themes/lovata-tailwind-shopaholic/assets/images/exit.svg')"></span>
                </span>
                <span class="w-full flex flex-1 items-center ps-4 pe-2 md:py-4 md:px-2 xl:p-4 md:justify-center border border-l-0 md:border-l md:border-t-0 border-solid border-gray-200 rounded-ss-sm md:rounded-es-sm rounded-tr-sm md:rounded-t-none md:text-center group-active:underline">{{'account_sign_out'|_}}</span>
            </a>
        </li>
    {% endpartial %}
</div>
