<div class="flex justify-between mb-5 md:hidden">
    <button class="flex border border-gray-300 py-3 pe-8 ps-3 me-2 rounded items-center">
        <svg class="me-4" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9.99967 13.3334C10.9163 13.3334 11.6663 14.0834 11.6663 15C11.6663 15.9167 10.9163 16.6667 9.99967 16.6667C9.08301 16.6667 8.33301 15.9167 8.33301 15C8.33301 14.0834 9.08301 13.3334 9.99967 13.3334ZM9.99967 8.33337C10.9163 8.33337 11.6663 9.08337 11.6663 10C11.6663 10.9167 10.9163 11.6667 9.99967 11.6667C9.08301 11.6667 8.33301 10.9167 8.33301 10C8.33301 9.08337 9.08301 8.33337 9.99967 8.33337ZM9.99967 3.33337C10.9163 3.33337 11.6663 4.08337 11.6663 5.00004C11.6663 5.91671 10.9163 6.66671 9.99967 6.66671C9.08301 6.66671 8.33301 5.91671 8.33301 5.00004C8.33301 4.08337 9.08301 3.33337 9.99967 3.33337ZM4.99967 13.3334C5.91634 13.3334 6.66634 14.0834 6.66634 15C6.66634 15.9167 5.91634 16.6667 4.99967 16.6667C4.08301 16.6667 3.33301 15.9167 3.33301 15C3.33301 14.0834 4.08301 13.3334 4.99967 13.3334ZM4.99967 8.33337C5.91634 8.33337 6.66634 9.08337 6.66634 10C6.66634 10.9167 5.91634 11.6667 4.99967 11.6667C4.08301 11.6667 3.33301 10.9167 3.33301 10C3.33301 9.08337 4.08301 8.33337 4.99967 8.33337ZM4.99967 3.33337C5.91634 3.33337 6.66634 4.08337 6.66634 5.00004C6.66634 5.91671 5.91634 6.66671 4.99967 6.66671C4.08301 6.66671 3.33301 5.91671 3.33301 5.00004C3.33301 4.08337 4.08301 3.33337 4.99967 3.33337ZM14.9997 13.3334C15.9163 13.3334 16.6663 14.0834 16.6663 15C16.6663 15.9167 15.9163 16.6667 14.9997 16.6667C14.083 16.6667 13.333 15.9167 13.333 15C13.333 14.0834 14.083 13.3334 14.9997 13.3334ZM14.9997 8.33337C15.9163 8.33337 16.6663 9.08337 16.6663 10C16.6663 10.9167 15.9163 11.6667 14.9997 11.6667C14.083 11.6667 13.333 10.9167 13.333 10C13.333 9.08337 14.083 8.33337 14.9997 8.33337ZM14.9997 3.33337C15.9163 3.33337 16.6663 4.08337 16.6663 5.00004C16.6663 5.91671 15.9163 6.66671 14.9997 6.66671C14.083 6.66671 13.333 5.91671 13.333 5.00004C13.333 4.08337 14.083 3.33337 14.9997 3.33337Z" fill="#4B5563"/>
        </svg>
        <span>{{ 'search_category'|_ }}</span>
    </button>
    <div>
        <button class="_offCanvasOpen flex border border-gray-300 py-3 pe-16 ps-3 rounded items-center" data-for="filter_panel">
            <svg class="me-4" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="2" y="5" width="16" height="1.4" rx="0.7" fill="#4B5563"/>
                <rect x="4" y="9" width="12" height="1.4" rx="0.7" fill="#4B5563"/>
                <rect x="6" y="13" width="8" height="1.4" rx="0.7" fill="#4B5563"/>
            </svg>
            <span>{{ 'filter_filter'|_ }}</span>
        </button>
        {% partial 'common/off-canvas/off-canvas'
            id = 'filter_panel'
            position = 'right'
            heading = 'filter_filters'|_
            canvasClasses = 'ps-0 pe-0 cursor-auto'
            backgroundClasses = 'bg-gray-50'
            headerClasses = 'mr-4 ml-4 md:mr-0 md:ml-0'
            indentClasses = 'py-10'
            body
        %}
            <div class="mt-6">
                {% partial 'catalog/tags/tags'
                    wrapperClasses = 'mb-5 px-4 flex flex-col hidden'
                    listClasses = 'flex flex-col space-y-2'
                    wrapperButtonClasses = 'text-end mb-4'
                %}
                <div>
                    <details class="border-t border-b border-gray-300 js-details" id="price-filter">
                        <summary class="text-base font-medium text-blue-800 cursor-pointer pb-4 pt-4 ps-4 pe-5 after:right-5 after:text-blue-800 focus-visible:text-blue-800 focus-visible:outline-2 focus-visible:outline-dotted focus-visible:outline-blue-800">
                            {{ 'filter_price'|_ }}
                        </summary>
                        <div class="js-accordion-content flex mb-4 ms-4 mt-3 me-5">
                            <fieldset class="me-3 w-full">
                                <legend class="sr-only">{{ 'filter_price'|_ }}&nbsp;{{ 'filter_min'|_ }}</legend>
                                {% partial 'form/input'
                                    labelText = 'filter_min'|_
                                    inputClasses = '_shopaholic-price-filter appearance-none quantity_input'
                                    type = 'number'
                                    name = 'filter-min-price'
                                    value = fMinPriceFilterValue
                                    id = 'min-price'
                                %}
                            </fieldset>
                            <fieldset class="w-full">
                                <legend class="sr-only">{{ 'filter_price'|_ }}&nbsp;{{ 'filter_max'|_ }}</legend>
                                {% partial 'form/input'
                                    labelText = 'filter_max'|_
                                    inputClasses = '_shopaholic-price-filter appearance-none quantity_input'
                                    type= 'number'
                                    name= 'filter-max-price'
                                    value = fMaxPriceFilterValue
                                    id = 'max-price'
                                %}
                            </fieldset>
                        </div>
                        <div class="_shopaholic-sale-filter-wrapper mb-4" data-filter-type="checkbox">
                            {% partial 'form/input-checkbox'
                                labelText = 'product_filter_discounted_only'|_
                                wrapperClasses = 'flex items-center pb-3 mx-4'
                                inputClasses = 'rounded-sm'
                                checked = bSaleFilter
                                id = 'sale'
                                name = 'sale'
                                value = 1
                            %}
                        </div>
                    </details>
                    <div class="_filters-mobile">
                        {% partial 'catalog/filter/filters-mobile-ajax' %}
                    </div>
                </div>
                <div class="ms-4 me-5">
                    {% partial 'form/button'
                        text = 'filter_see_all'|_
                        wrapperClasses = '_hide _product-count w-full mt-8'
                    %}
                    {% partial 'form/button'
                        text = 'form_loading'|_
                        wrapperClasses = '_show-more-hidden hidden mx-auto relative w-full ps-12 mt-8'
                        disabled = true
                        body
                    %}
                        <svg class="animate-spin absolute top-4 left-44 w-5 h-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                        </svg>
                    {% endpartial %}
                </div>
            </div>
        {% endpartial %}
    </div>
</div>

{# TODO: Fix opening animation for details #}
<template class="_filterTemplate">
    <div class="hidden md:block">
        <h2 class="text-gray-900 text-lg font-medium mb-3">{{ 'filter_filters'|_ }}</h2>
        <details
            id="price-filter"
            data-translate-to={{ 'filter_to'|_ }}
            data-translate-from={{ 'filter_from'|_ }}
            open
            class="js-details"
        >
            <summary class="js-accordion-summary link link-blue w-full text-base font-medium cursor-pointer mb-3 after:text-blue-800">
                {{ 'filter_price'|_ }}
            </summary>
            <div class="js-accordion-content">
                <div class="flex pb-4">
                    <fieldset class="me-3">
                        <legend class="sr-only">{{ 'filter_price'|_ }}&nbsp;{{ 'filter_min'|_ }}</legend>
                        {% partial 'form/input'
                            labelText = 'filter_min'|_
                            inputClasses = '_shopaholic-price-filter appearance-none quantity_input'
                            type = 'number'
                            name = 'filter-min-price'
                            value = fMinPriceFilterValue
                            id = 'min-price'
                        %}
                    </fieldset>
                    <fieldset>
                        <legend class="sr-only">{{ 'filter_price'|_ }}&nbsp;{{ 'filter_max'|_ }}</legend>
                        {% partial 'form/input'
                            labelText = 'filter_max'|_
                            inputClasses = '_shopaholic-price-filter appearance-none quantity_input'
                            type = 'number'
                            name = 'filter-max-price'
                            value = fMaxPriceFilterValue
                            id = 'max-price'
                        %}
                    </fieldset>
                </div>
                <div class="_shopaholic-sale-filter-wrapper pb-4" data-filter-type="checkbox">
                    {% partial 'form/input-checkbox'
                        labelText = 'product_filter_discounted_only'|_
                        wrapperClasses = 'flex items-center'
                        inputClasses = 'rounded-sm'
                        checked = bSaleFilter
                        id = 'sale'
                        name = 'sale'
                        value = 1
                    %}
                </div>
            </div>
        </details>
        <div class="_filters-desktop space-y-4">
            {% partial 'catalog/filter/filters-desktop-ajax' %}
        </div>
    </div>
</template>

