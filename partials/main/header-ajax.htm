{% set obCartList = Cart.get() %}
{% if obCartList.isNotEmpty() %}
    {% set sHidden = 'visible' %}
{% else %}
    {% set sHidden = 'hidden' %}
{% endif %}

{% if this.page.id != 'checkout' %}
<div class="_header-purchases-container flex ms-auto">
    <button class="_offCanvasOpen relative ms-5 sm:ms-8 md:ms-10 link link-dark" type="button" data-for="header_cart">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M16 11V7C16 5.93913 15.5786 4.92172 14.8284 4.17157C14.0783 3.42143 13.0609 3 12 3C10.9391 3 9.92172 3.42143 9.17157 4.17157C8.42143 4.92172 8 5.93913 8 7V11M5 9H19L20 21H4L5 9Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
            <circle id="product-active" cx="19" cy="19" r="3" fill="currentColor" style="visibility: {{sHidden}}"/>
        </svg>
        <span class="sr-only">{{ 'purchase_go_to_cart'|_ }}</span>
    </button>

    {% partial 'common/off-canvas/off-canvas'
        id = 'header_cart'
        position = 'right'
        heading = 'shopping cart'
        canvasClasses = '_container-cart-list cursor-auto'
        indentClasses = 'px-4 py-10 md:px-10'
        backgroundClasses = 'bg-white'
        canvasClasses = 'md:w-full md:px-4 lg:px-10 lg:w-1/2'
        body
    %}
        {% partial 'cart/cart-list' %}
    {% endpartial %}
</div>
{% else %}
    <span class="relative ms-5 sm:ms-8 md:ms-10 text-on-surface" type="button">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M16 11V7C16 5.93913 15.5786 4.92172 14.8284 4.17157C14.0783 3.42143 13.0609 3 12 3C10.9391 3 9.92172 3.42143 9.17157 4.17157C8.42143 4.92172 8 5.93913 8 7V11M5 9H19L20 21H4L5 9Z" stroke="#111827" stroke-linecap="round" stroke-linejoin="round"/>
            <circle id="product-active" cx="19" cy="19" r="3" fill="#1E40AF" style="visibility: {{sHidden}}"/>
        </svg>
        <span class="sr-only">{{ 'purchase_go_to_cart'|_ }}</span>
    </span>
{% endif %}
